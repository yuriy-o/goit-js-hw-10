{"mappings":"+jBAKA,MAAMA,EAAO,CACXC,MAAOC,SAASC,cAAc,oBAC9BC,GAAIF,SAASC,cAAc,iBAC3BE,IAAKH,SAASC,cAAc,kBAI9B,IAAIG,EAAa,GAmFjB,SAASC,IACPP,EAAKI,GAAGI,UAAY,GACpBR,EAAKK,IAAIG,UAAY,EACvB,CApFAR,EAAKC,MAAMQ,iBAAiB,QAASC,EAAAC,EAAA,EAErC,SAAiBC,GAMf,GALAA,EAAEC,iBAEFP,EAAaM,EAAEE,OAAOC,MAAMC,OAC5BC,QAAQC,IAAIZ,GAEO,KAAfA,EAEF,YADAC,KCvB2BY,ED2Bdb,EC1BRc,MACL,uCAAuCD,oDACvCE,MAAKC,IACL,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,QAIvB,OADAR,QAAQC,IAAI,gBAAiBI,GACtBA,EAAKI,MAAI,KDmBfL,MAAKM,IAGJpB,IAEIoB,EAAQC,OAAS,GACnBC,EAAAC,OAAOC,KACL,8DAKAJ,EAAQC,QAAU,GAAKD,EAAQC,QAAU,GAyCnD,SAAyBI,GACvB,MAAMC,EAASD,EACZE,KACCP,GACE,0DAC0BA,EAAQQ,MAAMC,qBAAqBT,EAAQR,KAAKkB,4CACpDV,EAAQR,KAAKkB,yBAGtCC,KAAK,IAERtC,EAAKI,GAAGmC,mBAAmB,YAAaN,EAC1C,CApDQO,CAAgBb,GAIdA,EAAQC,OAAS,GAa3B,SAAuBI,GACrB,MAAMC,EAASD,EAAUE,KACvBP,GACE,0DAC4BA,EAAQQ,MAAMC,qBACxCT,EAAQR,KAAKkB,wBAEXV,EAAQR,KAAKkB,4FAGqCV,EAAQc,6EAE9Dd,EAAQe,+EAEgDC,OAAOC,OAC/DjB,EAAQkB,WACRP,KAAK,sBAITtC,EAAKK,IAAIkC,mBAAmB,YAAaN,EAC3C,CAjCQa,CAAcnB,EAEhB,IAEDoB,OAAMC,IACL/B,QAAQC,IAAI,sCAAuC8B,GAEnDnB,EAAAC,OAAOmB,QAAQ,4CACRD,KCtDN,IAAwB7B,CDwD/B,GA7CuB,K","sources":["src/index.js","src/fetchCountries.js"],"sourcesContent":["import { fetchCountries } from './fetchCountries';\nimport debounce from 'lodash.debounce';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport './css/styles.css';\n\nconst refs = {\n  input: document.querySelector('input#search-box'),\n  ul: document.querySelector('.country-list'),\n  div: document.querySelector('.country-info'),\n};\n\nconst DEBOUNCE_DELAY = 300;\nlet inputValue = '';\n\nrefs.input.addEventListener('input', debounce(onInput, DEBOUNCE_DELAY));\n\nfunction onInput(e) {\n  e.preventDefault();\n\n  inputValue = e.target.value.trim(); //без зайвих пробілів\n  console.log(inputValue);\n\n  if (inputValue === '') {\n    clear();\n    return;\n  }\n\n  fetchCountries(inputValue)\n    .then(country => {\n      // console.log('country.length', country.length); //Скільки країн введено в інпут\n\n      clear();\n\n      if (country.length > 10) {\n        Notify.info(\n          'Too many matches found. Please enter a more specific name.'\n        );\n        return;\n      }\n\n      if (country.length >= 2 && country.length <= 10) {\n        createCountries(country);\n        return;\n      }\n\n      if (country.length < 2) {\n        createCountry(country);\n        return;\n      }\n    })\n    .catch(error => {\n      console.log('catch → Додаткова помилка в консоль', error);\n\n      Notify.failure('Oops, there is no country with that name');\n      return error;\n    });\n}\n\nfunction createCountry(countries) {\n  const markup = countries.map(\n    country =>\n      `<div class=\"country\">\n    <img class=\"flag-icon\" src=\"${country.flags.svg}\" alt=\"Flag of ${\n        country.name.official\n      }\" >\n    <h1>${country.name.official}</h1>\n</div>\n<div> \n    <p class=\"text\"><span class=\"caption\">Capital:</span> ${country.capital}</p>\n    <p class=\"text\"><span class=\"caption\">Population:</span> ${\n      country.population\n    }</p>\n    <p class=\"text\"><span class=\"caption\">Languages:</span> ${Object.values(\n      country.languages\n    ).join(', ')}</p>\n</div>`\n  );\n\n  refs.div.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction createCountries(countries) {\n  const markup = countries\n    .map(\n      country =>\n        `<div class=\"country\">\n    <img class=\"flag-icon\" src=\"${country.flags.svg}\" alt=\"Flag of ${country.name.official}\" >\n    <p class=\"country-name\">${country.name.official}</p>\n</div>`\n    )\n    .join('');\n\n  refs.ul.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clear() {\n  refs.ul.innerHTML = '';\n  refs.div.innerHTML = '';\n}\nfunction Error() {\n  clear();\n  Notify.failure('Oops, there is no country with that name');\n}\n","export function fetchCountries(name) {\n  return fetch(\n    `https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.status);\n    }\n\n    console.log('then#1 → resp', resp);\n    return resp.json();\n  });\n}\n"],"names":["$b8f9b7833fa37166$var$refs","input","document","querySelector","ul","div","$b8f9b7833fa37166$var$inputValue","$b8f9b7833fa37166$var$clear","innerHTML","addEventListener","$parcel$interopDefault","$l1Gdk","e","preventDefault","target","value","trim","console","log","name","fetch","then","resp","ok","Error","status","json","country","length","$h6c0i","Notify","info","countries","markup","map","flags","svg","official","join","insertAdjacentHTML","$b8f9b7833fa37166$var$createCountries","capital","population","Object","values","languages","$b8f9b7833fa37166$var$createCountry","catch","error","failure"],"version":3,"file":"index.ba086d50.js.map"}